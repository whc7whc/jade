<!DOCTYPE html>
<html>
<head>
    <title>ğŸš¨ ç·Šæ€¥ç’°å¢ƒæª¢æŸ¥</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #000; color: #0f0; }
        .error { color: #f00; }
        .success { color: #0f0; }
        .info { color: #ff0; }
    </style>
</head>
<body>
    <h1>ğŸš¨ ç·Šæ€¥ç’°å¢ƒæª¢æŸ¥</h1>
    <div id="results"></div>

    <script>
        // åœ¨é‹è¡Œæ™‚æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
        const results = document.getElementById('results');
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = type;
            div.textContent = message;
            results.appendChild(div);
        }
        
        // é€™äº›å€¼æœƒåœ¨å»ºç½®æ™‚è¢« Vue CLI æ›¿æ›
        const API_BASE_URL = process.env.VUE_APP_API_BASE_URL;
        const NODE_ENV = process.env.NODE_ENV;
        
        log('=== å»ºç½®æ™‚ç’°å¢ƒè®Šæ•¸ ===');
        log(`NODE_ENV: ${NODE_ENV}`, NODE_ENV === 'production' ? 'success' : 'error');
        log(`VUE_APP_API_BASE_URL: ${API_BASE_URL}`, API_BASE_URL?.includes('railway') ? 'success' : 'error');
        
        log('\n=== å¯¦éš›æ¸¬è©¦ ===');
        
        // æ¸¬è©¦å¯¦éš› API é€£æ¥
        const testUrl = API_BASE_URL || 'https://jadeapi-production.up.railway.app/api';
        log(`æ¸¬è©¦ URL: ${testUrl}`);
        
        fetch(`${testUrl.replace('/api', '')}/health`)
            .then(response => {
                if (response.ok) {
                    log('âœ… Railway API å¥åº·æª¢æŸ¥ï¼šæˆåŠŸ', 'success');
                    return response.json();
                } else {
                    log(`âŒ Railway API å¥åº·æª¢æŸ¥ï¼šå¤±æ•— (${response.status})`, 'error');
                }
            })
            .then(data => {
                if (data) {
                    log(`Health Status: ${data.status}`, 'success');
                    log(`Timestamp: ${data.timestamp}`, 'info');
                }
            })
            .catch(error => {
                log(`âŒ Railway API é€£æ¥éŒ¯èª¤: ${error.message}`, 'error');
            });
            
        // æ¸¬è©¦å¯¦éš›ç”¢å“ API
        fetch(`${testUrl}/Products`)
            .then(response => {
                if (response.ok) {
                    log('âœ… Products APIï¼šæˆåŠŸ', 'success');
                    return response.json();
                } else {
                    log(`âŒ Products APIï¼šå¤±æ•— (${response.status})`, 'error');
                }
            })
            .then(data => {
                if (data) {
                    log(`Products æ•¸é‡: ${Array.isArray(data) ? data.length : 'æœªçŸ¥'}`, 'success');
                }
            })
            .catch(error => {
                log(`âŒ Products API éŒ¯èª¤: ${error.message}`, 'error');
            });
            
        log('\n=== å»ºç½®è³‡è¨Š ===');
        log(`å»ºç½®æ™‚é–“: ${new Date().toISOString()}`, 'info');
        log(`ç”¨æˆ¶ä»£ç†: ${navigator.userAgent}`, 'info');
    </script>
</body>
</html>
